{# templates/favteamform/index.html.twig #}

{% extends 'base.html.twig' %}

{% block body %}
    <style>
        select {
            width: 100%;
            padding: 16px 20px;
            border: none;
            border-radius: 4px;
            background-color: #f1f1f1;
        }
        .submit-button {
            background-color: #4CAF50; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
    <h5 style="text-align: center">Choose the league your favourite team competes in</h5>
    {{ form_start(form) }}
    {{ form_row(form.league) }}
    <div id="season-wrapper">
        {{ form_row(form.season) }}
    </div>
    {{ form_row(form.save) }}
    {{ form_end(form) }}

    <script>
        document.getElementById('{{ form.league.vars.id }}').addEventListener('change', function() {
            var league = this.value;
            var seasonWrapper = document.getElementById('season-wrapper');
            var seasonSelect = seasonWrapper.querySelector('select');
            var options = Array.from(seasonSelect.options);
            options.forEach(function(option) {
                if (option.dataset.league === league || option.value === '') {
                    option.style.display = 'block';
                } else {
                    option.style.display = 'none';
                }
            });
            seasonSelect.value = '';
        });
    </script>
{% endblock %}
